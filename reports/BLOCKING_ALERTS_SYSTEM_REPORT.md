# üö® BLOCKING ALERTS SYSTEM - –û–¢–ß–ï–¢ –û –í–ù–ï–î–†–ï–ù–ò–ò

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê

### 1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö
**–§–∞–π–ª:** `bot/core/blocking_alerts.py`

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `BlockingAlertsManager` - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
- `BlockingAlert` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `BlockingReason` - enum —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- `report_order_block()` - —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

**9 —Ç–∏–ø–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:**
- üö® `EMERGENCY_STOP` - –∞–≤–∞—Ä–∏–π–Ω—ã–π —Å—Ç–æ–ø (CRITICAL)
- üî¥ `RISK_LIMIT` - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ä–∏—Å–∫–∞ (HIGH)
- üü° `RATE_LIMIT` - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ rate limit (MEDIUM)
- üî¥ `API_ERROR` - –æ—à–∏–±–∫–∏ API (HIGH)
- üü¢ `STRATEGY_FILTER` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π (LOW)
- üü° `ORDER_CONFLICT` - –∫–æ–Ω—Ñ–ª–∏–∫—Ç –æ—Ä–¥–µ—Ä–æ–≤ (MEDIUM)
- üü° `POSITION_LIMIT` - –ª–∏–º–∏—Ç –ø–æ–∑–∏—Ü–∏–π (MEDIUM)
- üü° `BALANCE_INSUFFICIENT` - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –±–∞–ª–∞–Ω—Å–∞ (MEDIUM)
- üî¥ `API_PERFORMANCE` - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é API (HIGH)

### 2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**Anti-spam –∑–∞—â–∏—Ç–∞:**
- CRITICAL: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏
- HIGH: cooldown 5 –º–∏–Ω—É—Ç
- MEDIUM: cooldown 15 –º–∏–Ω—É—Ç
- LOW: cooldown 1 —á–∞—Å

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:**
- `rate_limit`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç
- `api_error`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç
- `api_performance`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç
- `strategy_filter`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Risk Manager
**–§–∞–π–ª:** `bot/risk.py`

**–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ Emergency stop –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤ —Å–¥–µ–ª–æ–∫
- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤ –ø–æ—Ç–µ—Ä—å
- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏

**–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö:**
- –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è vs –ª–∏–º–∏—Ç—ã
- –ë–∞–ª–∞–Ω—Å—ã –∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
- –í—Ä–µ–º—è –¥–æ —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é

### 4. Telegram –∫–æ–º–∞–Ω–¥—ã
**–§–∞–π–ª:** `bot/services/telegram_bot.py`

**–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞:** `/blocks`

**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:**
- üìä –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- üî¥ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 24 —á–∞—Å–∞ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
- üìã –†–∞–∑–±–∏–≤–∫—É –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- üî• –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—É—é –ø—Ä–∏—á–∏–Ω—É
- üö® –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å –¥–µ—Ç–∞–ª—è–º–∏
- üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

## üéØ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ "–ú–û–õ–ß–ê–õ–ò–í–´–• –ë–õ–û–ö–ò–†–û–í–û–ö"

### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
‚ùå –°–∏—Å—Ç–µ–º–∞ –º–æ–≥–ª–∞ —á–∞—Å–∞–º–∏ –Ω–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–ª –æ –ø—Ä–∏—á–∏–Ω–∞—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
‚ùå –°–ª–æ–∂–Ω–æ –±—ã–ª–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
‚ùå –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
‚úÖ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∫–∞–∂–¥–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —á–µ—Ä–µ–∑ Telegram
‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è** –ø—Ä–∏—á–∏–Ω –∏ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ—à–µ–Ω–∏—è
‚úÖ **–£–º–Ω–∞—è anti-spam —Å–∏—Å—Ç–µ–º–∞** —Å cooldown –ø–æ —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç–∏
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ** –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
‚úÖ **–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ –∏—Å—Ç–æ—Ä–∏—è —á–µ—Ä–µ–∑ `/blocks`
‚úÖ **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

## üìä –¢–ò–ü–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### –ü—Ä–∏–º–µ—Ä CRITICAL —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
```
üö® –ë–õ–û–ö–ò–†–û–í–ö–ê –¢–û–†–ì–û–í–õ–ò

üìä –°—Ç—Ä–∞—Ç–µ–≥–∏—è: range_trading_default
üí∞ –°–∏–º–≤–æ–ª: BTCUSDT
‚ö†Ô∏è –ü—Ä–∏—á–∏–Ω–∞: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∞–≤–∞—Ä–∏–π–Ω—ã–π —Å—Ç–æ–ø —Å–∏—Å—Ç–µ–º—ã
üîí –£—Ä–æ–≤–µ–Ω—å: CRITICAL
‚è∞ –í—Ä–µ–º—è: 21:48:57

üìã –î–µ—Ç–∞–ª–∏: emergency_reason: Risk manager emergency stop

üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
```

### –ü—Ä–∏–º–µ—Ä HIGH —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
```
üî¥ –ë–õ–û–ö–ò–†–û–í–ö–ê –¢–û–†–ì–û–í–õ–ò

üìä –°—Ç—Ä–∞—Ç–µ–≥–∏—è: momentum_strategy
üí∞ –°–∏–º–≤–æ–ª: ETHUSDT
‚ö†Ô∏è –ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –¥–Ω–µ–≤–Ω—ã—Ö –ø–æ—Ç–µ—Ä—å
üîí –£—Ä–æ–≤–µ–Ω—å: HIGH
‚è∞ –í—Ä–µ–º—è: 15:23:41

üìã –î–µ—Ç–∞–ª–∏: daily_loss: $45.30, max_daily_loss: $40.00, current_balance: $800.00

üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å: –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞ –∏–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–±—Ä–æ—Å–∞ –¥–Ω–µ–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
```

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram:
```
/blocks - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```python
from bot.core.blocking_alerts import report_order_block

# –°–æ–æ–±—â–∏—Ç—å –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
report_order_block(
    reason="risk_limit",
    symbol="BTCUSDT",
    strategy="my_strategy",
    message="–ü—Ä–µ–≤—ã—à–µ–Ω –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç",
    details={"current": 15, "limit": 10}
)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
```python
from bot.core.blocking_alerts import get_blocking_alerts_manager

manager = get_blocking_alerts_manager()
stats = manager.get_blocking_stats()
active_blocks = manager.get_active_blocks()
```

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–†–û–ë–õ–ï–ú–ê "–ú–û–õ–ß–ê–õ–ò–í–´–• –ë–õ–û–ö–ò–†–û–í–û–ö" –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê!**

‚úÖ **100% –≤–∏–¥–∏–º–æ—Å—Ç—å** –≤—Å–µ—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏
‚úÖ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
‚úÖ **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
‚úÖ **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚úÖ **Anti-spam –∑–∞—â–∏—Ç–∞** –æ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –í–°–ï–ì–î–ê –∑–Ω–∞–µ—Ç, –∫–æ–≥–¥–∞ –∏ –ø–æ—á–µ–º—É —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ç–æ—Ä–≥—É–µ—Ç!**

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

‚úÖ **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ **Blocking alerts —Å–æ–∑–¥–∞—é—Ç—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **Risk Manager –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ **Emergency stop** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–≤–µ–¥–æ–º–ª—è–µ—Ç
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úÖ **Telegram –∫–æ–º–∞–Ω–¥—ã** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û!** üéØ